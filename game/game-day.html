<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Game Day – Football Data Tracker</title>

  <!-- Auth guard -->
  <script>
    (function(){
      const ok = localStorage.getItem('auth_ok')==='1' &&
                 Number(localStorage.getItem('auth_until')||0) > Date.now();
      if(!ok){ window.location.href = '../index.html#login'; }
    })();
  </script>

  <!-- Fonts + theme stylesheet -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@300;400;600;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../style.css"/>
</head>

<body class="theme-atl practice-page">
  <header class="page-header">
    <h1>Game Day</h1>
    <nav class="menu-actions" aria-label="Top navigation">
      <a class="menu-btn" href="../index.html">Home</a>
    </nav>
  </header>

  <main>
    <div class="container">

      <!-- Live context banner -->
      <div id="ctxBanner" class="chip tiny" style="margin:.5rem 0"></div>

  

      <p class="page-intro" style="text-align:center">
        Choose a module to track during the game.
      </p>

      <!-- Sub-menu grid -->
      <nav class="sub-nav" aria-label="Game Day modules">
        <a href="game-primary.html"   class="nav-button"> Primary / Drives</a>
        <a href="game-coverage.html"   class="nav-button"> Defensive Coverage</a>
        <a href="game-qb.html"        class="nav-button">🧠 QB Tracking</a>
        <a href="game-rb.html"        class="nav-button">💨 RB Tracking</a>
        <a href="game-wr.html"        class="nav-button">👟 WR / TE Tracking</a>
        <a href="game-ol.html"        class="nav-button">🧱 O-Line</a>
        <a href="game-dl.html"        class="nav-button">💥 D-Line</a>
        <a href="game-lb.html"        class="nav-button">🥾 Linebackers</a>
        <a href="game-db.html"        class="nav-button">🔒 Secondary</a>
        <a href="game-st.html"        class="nav-button">⭐ Special Teams</a>
        <a href="game-penalties.html" class="nav-button">🚩 Penalties</a>
      </nav>
    </div>
  </main>

  <footer class="site-footer">
    <p>&copy; 2025 Game Speed Data Systems</p>
  </footer>

  <!-- Shared plumbing -->
  <script>
    // Your Apps Script Web App endpoint
    window.API_BASE = 'https://script.google.com/macros/s/AKfycbxQk6BgJLkZltXX7xijq9QKmTEfB51M65cHzrYCe6SCTykrSWnFDMecXfiLGRTd9iOCLg/exec';
  </script>
  <script src="../js/api.js"></script>
  <script src="../js/context.js"></script>

  <script>
    // Boot GameContext with server sync enabled
    GameContext.configure({ apiBase: window.API_BASE, server: true, pollMs: 1000 });

    // Banner shows "Game / Drive / Play" live
    GameContext.mountBanner('#ctxBanner');

    // Two-way bind inputs to shared context
    GameContext.bindInputs({
      game_id:  '#ctx_game',
      drive_id: '#ctx_drive',
      play_id:  '#ctx_play'
    });

    // Tiny “synced” hint feedback
    const hint = document.getElementById('ctxSyncHint');
    GameContext.subscribe(()=>{ hint.textContent = 'Synced'; });
  </script>
</body>
</html>
